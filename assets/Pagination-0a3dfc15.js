import{R as h,c as C,r as w,G as fe,u as Ie,j}from"./index-ec0b574e.js";function z(){return z=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r[n]=l[n])}return r},z.apply(this,arguments)}function k(r){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(r)}function Oe(r,t){if(k(r)!=="object"||r===null)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var n=l.call(r,t||"default");if(k(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function he(r){var t=Oe(r,"string");return k(t)==="symbol"?t:String(t)}function b(r,t,l){return t=he(t),t in r?Object.defineProperty(r,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[t]=l,r}function ue(r,t){var l=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),l.push.apply(l,n)}return l}function Ee(r){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?ue(Object(l),!0).forEach(function(n){b(r,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(l)):ue(Object(l)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(l,n))})}return r}function ge(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(r,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,he(n.key),n)}}function me(r,t,l){return t&&ce(r.prototype,t),l&&ce(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r}function Z(r,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},Z(r,t)}function de(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Z(r,t)}function W(r){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},W(r)}function we(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function je(r,t){if(t&&(k(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(r)}function ve(r){var t=we();return function(){var n=W(r),e;if(t){var i=W(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return je(this,e)}}var _={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40};const ze={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};var ye=function(r){de(l,r);var t=ve(l);function l(){var n;ge(this,l);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),n.state={goInputText:""},n.getValidValue=function(){var s=n.state.goInputText;return!s||Number.isNaN(s)?void 0:Number(s)},n.buildOptionText=function(s){return"".concat(s," ").concat(n.props.locale.items_per_page)},n.changeSize=function(s){n.props.changeSize(Number(s))},n.handleChange=function(s){n.setState({goInputText:s.target.value})},n.handleBlur=function(s){var p=n.props,a=p.goButton,u=p.quickGo,c=p.rootPrefixCls,f=n.state.goInputText;a||f===""||(n.setState({goInputText:""}),!(s.relatedTarget&&(s.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||s.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&u(n.getValidValue()))},n.go=function(s){var p=n.state.goInputText;p!==""&&(s.keyCode===_.ENTER||s.type==="click")&&(n.setState({goInputText:""}),n.props.quickGo(n.getValidValue()))},n}return me(l,[{key:"getPageSizeOptions",value:function(){var e=this.props,i=e.pageSize,o=e.pageSizeOptions;return o.some(function(s){return s.toString()===i.toString()})?o:o.concat([i.toString()]).sort(function(s,p){var a=Number.isNaN(Number(s))?0:Number(s),u=Number.isNaN(Number(p))?0:Number(p);return a-u})}},{key:"render",value:function(){var e=this,i=this.props,o=i.pageSize,s=i.locale,p=i.rootPrefixCls,a=i.changeSize,u=i.quickGo,c=i.goButton,f=i.selectComponentClass,g=i.buildOptionText,P=i.selectPrefixCls,m=i.disabled,I=this.state.goInputText,S="".concat(p,"-options"),v=f,U=null,R=null,T=null;if(!a&&!u)return null;var G=this.getPageSizeOptions();if(a&&v){var $=G.map(function(V,E){return h.createElement(v.Option,{key:E,value:V.toString()},(g||e.buildOptionText)(V))});U=h.createElement(v,{disabled:m,prefixCls:P,showSearch:!1,className:"".concat(S,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(o||G[0]).toString(),onChange:this.changeSize,getPopupContainer:function(E){return E.parentNode},"aria-label":s.page_size,defaultOpen:!1},$)}return u&&(c&&(T=typeof c=="boolean"?h.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:m,className:"".concat(S,"-quick-jumper-button")},s.jump_to_confirm):h.createElement("span",{onClick:this.go,onKeyUp:this.go},c)),R=h.createElement("div",{className:"".concat(S,"-quick-jumper")},s.jump_to,h.createElement("input",{disabled:m,type:"text",value:I,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":s.page}),s.page,T)),h.createElement("li",{className:"".concat(S)},U,R)}}]),l}(h.Component);ye.defaultProps={pageSizeOptions:["10","20","50","100"]};var L=function(t){var l,n=t.rootPrefixCls,e=t.page,i=t.active,o=t.className,s=t.showTitle,p=t.onClick,a=t.onKeyPress,u=t.itemRender,c="".concat(n,"-item"),f=C(c,"".concat(c,"-").concat(e),(l={},b(l,"".concat(c,"-active"),i),b(l,"".concat(c,"-disabled"),!e),b(l,t.className,o),l)),g=function(){p(e)},P=function(I){a(I,p,e)};return h.createElement("li",{title:s?e.toString():null,className:f,onClick:g,onKeyPress:P,tabIndex:0},u(e,"page",h.createElement("a",{rel:"nofollow"},e)))};function Y(){}function pe(r){var t=Number(r);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}var ke=function(t,l,n){return n};function O(r,t,l){var n=typeof r>"u"?t.pageSize:r;return Math.floor((l.total-1)/n)+1}var xe=function(r){de(l,r);var t=ve(l);function l(n){var e;ge(this,l),e=t.call(this,n),e.paginationNode=h.createRef(),e.getJumpPrevPage=function(){return Math.max(1,e.state.current-(e.props.showLessItems?3:5))},e.getJumpNextPage=function(){return Math.min(O(void 0,e.state,e.props),e.state.current+(e.props.showLessItems?3:5))},e.getItemIcon=function(a,u){var c=e.props.prefixCls,f=a||h.createElement("button",{type:"button","aria-label":u,className:"".concat(c,"-item-link")});return typeof a=="function"&&(f=h.createElement(a,Ee({},e.props))),f},e.isValid=function(a){var u=e.props.total;return pe(a)&&a!==e.state.current&&pe(u)&&u>0},e.shouldDisplayQuickJumper=function(){var a=e.props,u=a.showQuickJumper,c=a.total,f=e.state.pageSize;return c<=f?!1:u},e.handleKeyDown=function(a){(a.keyCode===_.ARROW_UP||a.keyCode===_.ARROW_DOWN)&&a.preventDefault()},e.handleKeyUp=function(a){var u=e.getValidValue(a),c=e.state.currentInputValue;u!==c&&e.setState({currentInputValue:u}),a.keyCode===_.ENTER?e.handleChange(u):a.keyCode===_.ARROW_UP?e.handleChange(u-1):a.keyCode===_.ARROW_DOWN&&e.handleChange(u+1)},e.handleBlur=function(a){var u=e.getValidValue(a);e.handleChange(u)},e.changePageSize=function(a){var u=e.state.current,c=O(a,e.state,e.props);u=u>c?c:u,c===0&&(u=e.state.current),typeof a=="number"&&("pageSize"in e.props||e.setState({pageSize:a}),"current"in e.props||e.setState({current:u,currentInputValue:u})),e.props.onShowSizeChange(u,a),"onChange"in e.props&&e.props.onChange&&e.props.onChange(u,a)},e.handleChange=function(a){var u=e.props,c=u.disabled,f=u.onChange,g=e.state,P=g.pageSize,m=g.current,I=g.currentInputValue;if(e.isValid(a)&&!c){var S=O(void 0,e.state,e.props),v=a;return a>S?v=S:a<1&&(v=1),"current"in e.props||e.setState({current:v}),v!==I&&e.setState({currentInputValue:v}),f(v,P),v}return m},e.prev=function(){e.hasPrev()&&e.handleChange(e.state.current-1)},e.next=function(){e.hasNext()&&e.handleChange(e.state.current+1)},e.jumpPrev=function(){e.handleChange(e.getJumpPrevPage())},e.jumpNext=function(){e.handleChange(e.getJumpNextPage())},e.hasPrev=function(){return e.state.current>1},e.hasNext=function(){return e.state.current<O(void 0,e.state,e.props)},e.runIfEnter=function(a,u){if(a.key==="Enter"||a.charCode===13){for(var c=arguments.length,f=new Array(c>2?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];u.apply(void 0,f)}},e.runIfEnterPrev=function(a){e.runIfEnter(a,e.prev)},e.runIfEnterNext=function(a){e.runIfEnter(a,e.next)},e.runIfEnterJumpPrev=function(a){e.runIfEnter(a,e.jumpPrev)},e.runIfEnterJumpNext=function(a){e.runIfEnter(a,e.jumpNext)},e.handleGoTO=function(a){(a.keyCode===_.ENTER||a.type==="click")&&e.handleChange(e.state.currentInputValue)},e.renderPrev=function(a){var u=e.props,c=u.prevIcon,f=u.itemRender,g=f(a,"prev",e.getItemIcon(c,"prev page")),P=!e.hasPrev();return w.isValidElement(g)?w.cloneElement(g,{disabled:P}):g},e.renderNext=function(a){var u=e.props,c=u.nextIcon,f=u.itemRender,g=f(a,"next",e.getItemIcon(c,"next page")),P=!e.hasNext();return w.isValidElement(g)?w.cloneElement(g,{disabled:P}):g};var i=n.onChange!==Y,o="current"in n;o&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=n.defaultCurrent;"current"in n&&(s=n.current);var p=n.defaultPageSize;return"pageSize"in n&&(p=n.pageSize),s=Math.min(s,O(p,void 0,n)),e.state={current:s,currentInputValue:s,pageSize:p},e}return me(l,[{key:"componentDidUpdate",value:function(e,i){var o=this.props.prefixCls;if(i.current!==this.state.current&&this.paginationNode.current){var s=this.paginationNode.current.querySelector(".".concat(o,"-item-").concat(i.current));if(s&&document.activeElement===s){var p;s==null||(p=s.blur)===null||p===void 0||p.call(s)}}}},{key:"getValidValue",value:function(e){var i=e.target.value,o=O(void 0,this.state,this.props),s=this.state.currentInputValue,p;return i===""?p=i:Number.isNaN(Number(i))?p=s:i>=o?p=o:p=Number(i),p}},{key:"getShowSizeChanger",value:function(){var e=this.props,i=e.showSizeChanger,o=e.total,s=e.totalBoundaryShowSizeChanger;return typeof i<"u"?i:o>s}},{key:"render",value:function(){var e=this,i=this.props,o=i.prefixCls,s=i.className,p=i.style,a=i.disabled,u=i.hideOnSinglePage,c=i.total,f=i.locale,g=i.showQuickJumper,P=i.showLessItems,m=i.showTitle,I=i.showTotal,S=i.simple,v=i.itemRender,U=i.showPrevNextJumpers,R=i.jumpPrevIcon,T=i.jumpNextIcon,G=i.selectComponentClass,$=i.selectPrefixCls,V=i.pageSizeOptions,E=this.state,d=E.current,K=E.pageSize,Pe=E.currentInputValue;if(u===!0&&c<=K)return null;var y=O(void 0,this.state,this.props),x=[],X=null,ee=null,te=null,ne=null,B=null,M=g&&g.goButton,N=P?1:2,re=d-1>0?d-1:0,ae=d+1<y?d+1:y,ie=Object.keys(this.props).reduce(function(le,A){return(A.substr(0,5)==="data-"||A.substr(0,5)==="aria-"||A==="role")&&(le[A]=e.props[A]),le},{}),oe=I&&h.createElement("li",{className:"".concat(o,"-total-text")},I(c,[c===0?0:(d-1)*K+1,d*K>c?c:d*K]));if(S)return M&&(typeof M=="boolean"?B=h.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},f.jump_to_confirm):B=h.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},M),B=h.createElement("li",{title:m?"".concat(f.jump_to).concat(d,"/").concat(y):null,className:"".concat(o,"-simple-pager")},B)),h.createElement("ul",z({className:C(o,"".concat(o,"-simple"),b({},"".concat(o,"-disabled"),a),s),style:p,ref:this.paginationNode},ie),oe,h.createElement("li",{title:m?f.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:C("".concat(o,"-prev"),b({},"".concat(o,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(re)),h.createElement("li",{title:m?"".concat(d,"/").concat(y):null,className:"".concat(o,"-simple-pager")},h.createElement("input",{type:"text",value:Pe,disabled:a,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),h.createElement("span",{className:"".concat(o,"-slash")},"/"),y),h.createElement("li",{title:m?f.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:C("".concat(o,"-next"),b({},"".concat(o,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(ae)),B);if(y<=3+N*2){var se={locale:f,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:m,itemRender:v};y||x.push(h.createElement(L,z({},se,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var D=1;D<=y;D+=1){var be=d===D;x.push(h.createElement(L,z({},se,{key:D,page:D,active:be})))}}else{var Ce=P?f.prev_3:f.prev_5,Se=P?f.next_3:f.next_5;U&&(X=h.createElement("li",{title:m?Ce:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:C("".concat(o,"-jump-prev"),b({},"".concat(o,"-jump-prev-custom-icon"),!!R))},v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(R,"prev page"))),ee=h.createElement("li",{title:m?Se:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:C("".concat(o,"-jump-next"),b({},"".concat(o,"-jump-next-custom-icon"),!!T))},v(this.getJumpNextPage(),"jump-next",this.getItemIcon(T,"next page")))),ne=h.createElement(L,{locale:f,last:!0,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:y,page:y,active:!1,showTitle:m,itemRender:v}),te=h.createElement(L,{locale:f,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:m,itemRender:v});var q=Math.max(1,d-N),Q=Math.min(d+N,y);d-1<=N&&(Q=1+N*2),y-d<=N&&(q=y-N*2);for(var J=q;J<=Q;J+=1){var Ne=d===J;x.push(h.createElement(L,{locale:f,rootPrefixCls:o,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:J,page:J,active:Ne,showTitle:m,itemRender:v}))}d-1>=N*2&&d!==1+2&&(x[0]=w.cloneElement(x[0],{className:"".concat(o,"-item-after-jump-prev")}),x.unshift(X)),y-d>=N*2&&d!==y-2&&(x[x.length-1]=w.cloneElement(x[x.length-1],{className:"".concat(o,"-item-before-jump-next")}),x.push(ee)),q!==1&&x.unshift(te),Q!==y&&x.push(ne)}var F=!this.hasPrev()||!y,H=!this.hasNext()||!y;return h.createElement("ul",z({className:C(o,s,b({},"".concat(o,"-disabled"),a)),style:p,ref:this.paginationNode},ie),oe,h.createElement("li",{title:m?f.prev_page:null,onClick:this.prev,tabIndex:F?null:0,onKeyPress:this.runIfEnterPrev,className:C("".concat(o,"-prev"),b({},"".concat(o,"-disabled"),F)),"aria-disabled":F},this.renderPrev(re)),x,h.createElement("li",{title:m?f.next_page:null,onClick:this.next,tabIndex:H?null:0,onKeyPress:this.runIfEnterNext,className:C("".concat(o,"-next"),b({},"".concat(o,"-disabled"),H)),"aria-disabled":H},this.renderNext(ae)),h.createElement(ye,{disabled:a,locale:f,rootPrefixCls:o,selectComponentClass:G,selectPrefixCls:$,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:d,pageSize:K,pageSizeOptions:V,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:M}))}}],[{key:"getDerivedStateFromProps",value:function(e,i){var o={};if("current"in e&&(o.current=e.current,e.current!==i.current&&(o.currentInputValue=o.current)),"pageSize"in e&&e.pageSize!==i.pageSize){var s=i.current,p=O(e.pageSize,i,e);s=s>p?p:s,"current"in e||(o.current=s,o.currentInputValue=s),o.pageSize=e.pageSize}return o}}]),l}(h.Component);xe.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Y,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Y,locale:ze,style:{},itemRender:ke,totalBoundaryShowSizeChanger:50};function Re(r){return fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16l-4-4m0 0l4-4m-4 4h18"}}]})(r)}function Te(r){return fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"}}]})(r)}const Ke=({pageSize:r,total:t,defaultCurrent:l,...n})=>{const[e,i]=Ie(),o=(p,a)=>{console.log("change"),e.set("page",`${p}`),i(e)},s=w.useMemo(()=>(console.log(t,r,l),parseInt(e.get("page")||"1")),[e]);return j.jsx("div",{className:C(n.className),children:j.jsx(xe,{className:"flex w-full justify-center items-center gap-1",current:s,total:t||0,defaultCurrent:l||1,pageSize:r||20,onChange:o,showPrevNextJumpers:!1,nextIcon:j.jsx("a",{children:j.jsx(Te,{})}),prevIcon:j.jsx("a",{children:j.jsx(Re,{})}),showLessItems:!0})})};export{Ke as P};
